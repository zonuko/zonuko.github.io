<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>ぞぬこBLOG</title><link>https://zonuko.github.io/</link><description>黒魔術師になりたいブログ</description><lastBuildDate>Wed, 28 Dec 2016 21:50:00 +0900</lastBuildDate><item><title>Programming Phoenix勉強その1</title><link>https://zonuko.github.io/posts/2016/12/28/programming-phoenixmian-qiang-sono1/</link><description>&lt;div class="line-block"&gt;
&lt;div class="line"&gt;買ってあったけど読んでなかったので読みます.&lt;/div&gt;
&lt;div class="line"&gt;プログラミングElixirについては色々なところで書評なり見る気がするけど,こっちの方は余り見ない気がします.&lt;/div&gt;
&lt;div class="line"&gt;&lt;br /&gt;&lt;/div&gt;
&lt;div class="line"&gt;ちなみに実際にコードを書くPart1のChapter2からやってきます.&lt;/div&gt;
&lt;div class="line"&gt;あとPhoenix自体は何回か触ってます.趣味で.&lt;/div&gt;
&lt;div class="line"&gt;&lt;br /&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id1"&gt;
&lt;h2&gt;前提&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;PostgreSQL9.5&lt;/li&gt;
&lt;li&gt;Elixir 1.3.2&lt;/li&gt;
&lt;li&gt;Phoenix Framework1.2.1&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;本より新し目のバージョンにしてるので,色々問題ありそうですが頑張る感じで行きます.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h2&gt;初期構築&lt;/h2&gt;
&lt;p&gt;プロジェクトテンプレートの生成としてはじめに以下のコマンドを入力します.&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;1&lt;/span&gt;
&lt;span class="code-line"&gt;2&lt;/span&gt;
&lt;span class="code-line"&gt;3&lt;/span&gt;
&lt;span class="code-line"&gt;4&lt;/span&gt;
&lt;span class="code-line"&gt;5&lt;/span&gt;
&lt;span class="code-line"&gt;6&lt;/span&gt;
&lt;span class="code-line"&gt;7&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ mix phoenix.new hello&lt;/span&gt;
&lt;span class="code-line"&gt;* creating hello/ config/ config.exs&lt;/span&gt;
&lt;span class="code-line"&gt;  ...&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;Fetch and install dependencies? &lt;span class="o"&gt;[&lt;/span&gt;Yn&lt;span class="o"&gt;]&lt;/span&gt; y&lt;/span&gt;
&lt;span class="code-line"&gt;* running mix deps.get&lt;/span&gt;
&lt;span class="code-line"&gt;* running npm&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;div class="line-block"&gt;
&lt;div class="line"&gt;これでカレントディレクトリにhelloってフォルダが掘られて,色々勝手に整備してくれる.&lt;/div&gt;
&lt;div class="line"&gt;次に以下のコマンドでDB作ったりします.&lt;/div&gt;
&lt;/div&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;1&lt;/span&gt;
&lt;span class="code-line"&gt;2&lt;/span&gt;
&lt;span class="code-line"&gt;3&lt;/span&gt;
&lt;span class="code-line"&gt;4&lt;/span&gt;
&lt;span class="code-line"&gt;5&lt;/span&gt;
&lt;span class="code-line"&gt;6&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; hello&lt;/span&gt;
&lt;span class="code-line"&gt;hello $ mix ecto.create&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="o"&gt;==&lt;/span&gt;&amp;gt; connection&lt;/span&gt;
&lt;span class="code-line"&gt;Compiling &lt;span class="m"&gt;1&lt;/span&gt; file （.ex）&lt;/span&gt;
&lt;span class="code-line"&gt;Generated connection app&lt;/span&gt;
&lt;span class="code-line"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;div class="line-block"&gt;
&lt;div class="line"&gt;これで &lt;tt class="docutils literal"&gt;hello_dev&lt;/tt&gt; とか言うデータベースができていればOKです.&lt;/div&gt;
&lt;div class="line"&gt;出来てなければ, &lt;tt class="docutils literal"&gt;config/dev.exs&lt;/tt&gt; ってファイルにDBとの接続設定があるので見直します.&lt;/div&gt;
&lt;div class="line"&gt;&lt;br /&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id3"&gt;
&lt;h2&gt;起動&lt;/h2&gt;
&lt;p&gt;以下のコマンドでサーバー起動.&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;1&lt;/span&gt;
&lt;span class="code-line"&gt;2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; hello&lt;/span&gt;
&lt;span class="code-line"&gt;$ mix phoenix.server&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;div class="line-block"&gt;
&lt;div class="line"&gt;&lt;tt class="docutils literal"&gt;mix phoenix.server&lt;/tt&gt; の部分は &lt;tt class="docutils literal"&gt;iex &lt;span class="pre"&gt;-S&lt;/span&gt; mix phoenix.server&lt;/tt&gt; でもOK.こちらはIEXの内部でサーバーが起動する.&lt;/div&gt;
&lt;div class="line"&gt;ちなみにデフォルトでは &lt;tt class="docutils literal"&gt;localhost:4000&lt;/tt&gt; で起動する.&lt;/div&gt;
&lt;div class="line"&gt;&lt;br /&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id4"&gt;
&lt;h2&gt;ルーティング&lt;/h2&gt;
&lt;p&gt;特定のURLとのルーティングを行うには, &lt;tt class="docutils literal"&gt;web/router.exs&lt;/tt&gt; に設定を書く.&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;span class="code-line"&gt; 1&lt;/span&gt;
&lt;span class="code-line"&gt; 2&lt;/span&gt;
&lt;span class="code-line"&gt; 3&lt;/span&gt;
&lt;span class="code-line"&gt; 4&lt;/span&gt;
&lt;span class="code-line"&gt; 5&lt;/span&gt;
&lt;span class="code-line"&gt; 6&lt;/span&gt;
&lt;span class="code-line"&gt; 7&lt;/span&gt;
&lt;span class="code-line"&gt; 8&lt;/span&gt;
&lt;span class="code-line"&gt; 9&lt;/span&gt;
&lt;span class="code-line"&gt;10&lt;/span&gt;
&lt;span class="code-line"&gt;11&lt;/span&gt;
&lt;span class="code-line"&gt;12&lt;/span&gt;
&lt;span class="code-line"&gt;13&lt;/span&gt;
&lt;span class="code-line"&gt;14&lt;/span&gt;
&lt;span class="code-line"&gt;15&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kd"&gt;defmodule&lt;/span&gt; &lt;span class="nc"&gt;Hello.Router&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="c1"&gt;# 省略&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="n"&gt;scope&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nc"&gt;Hello&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;pipe_through&lt;/span&gt; &lt;span class="ss"&gt;:browser&lt;/span&gt; &lt;span class="c1"&gt;# Use the default browser stack&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;get&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/hello&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nc"&gt;HelloController&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;:world&lt;/span&gt;  &lt;span class="c1"&gt;# 追加&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;get&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nc"&gt;PageController&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;:index&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="k"&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="c1"&gt;# Other scopes may use custom stacks.&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="c1"&gt;# scope &amp;quot;/api&amp;quot;, Hello do&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="c1"&gt;#   pipe_through :api&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="c1"&gt;# end&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;div class="line-block"&gt;
&lt;div class="line"&gt;見ればなんとなくわかると思いますが, &lt;tt class="docutils literal"&gt;get&lt;/tt&gt; マクロに対して色々ルーティングの設定をします.&lt;/div&gt;
&lt;div class="line"&gt;この場合は &lt;tt class="docutils literal"&gt;/hello&lt;/tt&gt; にアクセスが来たら &lt;tt class="docutils literal"&gt;HelloController&lt;/tt&gt; （モジュール）の &lt;tt class="docutils literal"&gt;:world&lt;/tt&gt; アクション（関数）を呼び出すようにしてます.&lt;/div&gt;
&lt;div class="line"&gt;ただ,この段階だと &lt;tt class="docutils literal"&gt;HelloController&lt;/tt&gt; がないのでアクセスしてもエラー画面です.&lt;/div&gt;
&lt;div class="line"&gt;エラー画面が若干本と違ってたので貼っておきます.&lt;/div&gt;
&lt;/div&gt;
&lt;img alt="Quicksilver" src="/images/Phoenix_error.jpg" /&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;&lt;br /&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="controller"&gt;
&lt;h3&gt;Controller実装&lt;/h3&gt;
&lt;p&gt;エラーを解消するために &lt;tt class="docutils literal"&gt;web/controllers/hello_controller.ex&lt;/tt&gt; を以下の内容で作ります.&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;1&lt;/span&gt;
&lt;span class="code-line"&gt;2&lt;/span&gt;
&lt;span class="code-line"&gt;3&lt;/span&gt;
&lt;span class="code-line"&gt;4&lt;/span&gt;
&lt;span class="code-line"&gt;5&lt;/span&gt;
&lt;span class="code-line"&gt;6&lt;/span&gt;
&lt;span class="code-line"&gt;7&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kd"&gt;defmodule&lt;/span&gt; &lt;span class="nc"&gt;Hello.HelloController&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="kn"&gt;use&lt;/span&gt; &lt;span class="nc"&gt;Hello.Web&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;:controller&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="kd"&gt;def&lt;/span&gt; &lt;span class="n"&gt;world&lt;/span&gt;&lt;span class="err"&gt;（&lt;/span&gt;&lt;span class="n"&gt;conn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;_param&lt;/span&gt;&lt;span class="err"&gt;）&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;    &lt;span class="n"&gt;render&lt;/span&gt; &lt;span class="n"&gt;conn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;world.html&amp;quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="k"&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;div class="line-block"&gt;
&lt;div class="line"&gt;ファイル名はController名をスネークケース,モジュール名は, （ &lt;tt class="docutils literal"&gt;scope&lt;/tt&gt; で設定した名前） &lt;tt class="docutils literal"&gt;.&lt;/tt&gt; （ &lt;tt class="docutils literal"&gt;get&lt;/tt&gt; に設定したController名）で作ります.&lt;/div&gt;
&lt;div class="line"&gt;（ココらへんの理解が微妙に曖昧）&lt;/div&gt;
&lt;div class="line"&gt;で,また &lt;tt class="docutils literal"&gt;/hello&lt;/tt&gt; にアクセスすると,今度はviewがないと怒られます。&lt;/div&gt;
&lt;div class="line"&gt;&lt;br /&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="view"&gt;
&lt;h3&gt;View実装&lt;/h3&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;&lt;tt class="docutils literal"&gt;web/views/hello_view.ex&lt;/tt&gt; を以下の内容で作ります.&lt;/div&gt;
&lt;/div&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;1&lt;/span&gt;
&lt;span class="code-line"&gt;2&lt;/span&gt;
&lt;span class="code-line"&gt;3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kd"&gt;defmodule&lt;/span&gt; &lt;span class="nc"&gt;Hello.HelloView&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="kn"&gt;use&lt;/span&gt; &lt;span class="nc"&gt;Hello.Web&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;:view&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;div class="line-block"&gt;
&lt;div class="line"&gt;で,今度はtemplateが無いって怒られるのでまた作ります.&lt;/div&gt;
&lt;div class="line"&gt;&lt;br /&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="template"&gt;
&lt;h3&gt;Template実装&lt;/h3&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;&lt;tt class="docutils literal"&gt;web/templates/world.html.eex&lt;/tt&gt; を以下の内容で作ります.&lt;/div&gt;
&lt;/div&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;From template: Hello world!&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;これで晴れて &lt;tt class="docutils literal"&gt;/hello&lt;/tt&gt; にアクセスしても怒られなくなります.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="routing"&gt;
&lt;h2&gt;Routing時のパラメータ&lt;/h2&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;次に,ルーティング時にパラメータを渡す方法を実装します.&lt;/div&gt;
&lt;div class="line"&gt;（ &lt;tt class="docutils literal"&gt;/hoge/1/&lt;/tt&gt; のような感じに）&lt;/div&gt;
&lt;div class="line"&gt;&lt;tt class="docutils literal"&gt;web/router.ex&lt;/tt&gt; に上の方で追加したルーティング設定を修正します.&lt;/div&gt;
&lt;/div&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/hello/:name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nc"&gt;HelloController&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;:world&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;div class="line-block"&gt;
&lt;div class="line"&gt;こうすると &lt;tt class="docutils literal"&gt;:name&lt;/tt&gt; の部分が色々変えられてControllerに渡されてきます.&lt;/div&gt;
&lt;div class="line"&gt;なので,Controllerを以下のように変更して渡された値を取得できるようにします.&lt;/div&gt;
&lt;/div&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;1&lt;/span&gt;
&lt;span class="code-line"&gt;2&lt;/span&gt;
&lt;span class="code-line"&gt;3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kd"&gt;def&lt;/span&gt; &lt;span class="n"&gt;world&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;conn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;%{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;name&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;  &lt;span class="n"&gt;render&lt;/span&gt; &lt;span class="n"&gt;conn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;world.html&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;/span&gt;
&lt;span class="code-line"&gt;&lt;span class="k"&gt;end&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;div class="line-block"&gt;
&lt;div class="line"&gt;パターンマッチにより渡されてきた値が &lt;tt class="docutils literal"&gt;name&lt;/tt&gt; にバインドされます.&lt;/div&gt;
&lt;div class="line"&gt;パターンマッチについては本の中で解説されてますが,飛ばします.プログラミングElixirとかElixirのチュートリアルとか読んでもらえれば.&lt;/div&gt;
&lt;div class="line"&gt;最後に,template側で渡された値を表示するようにしてあげれば完成.&lt;/div&gt;
&lt;/div&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="code-line"&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;Hello &lt;span class="err"&gt;&amp;lt;&lt;/span&gt;%= String.capitalize @name %&amp;gt;!&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;div class="line-block"&gt;
&lt;div class="line"&gt;&lt;tt class="docutils literal"&gt;&amp;lt;%= ～ %&amp;gt;&lt;/tt&gt; の部分にElixirの関数が書けて, &lt;tt class="docutils literal"&gt;&amp;#64;name&lt;/tt&gt; の部分にControllerから渡された値が入ってくるようです.&lt;/div&gt;
&lt;div class="line"&gt;&lt;br /&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id5"&gt;
&lt;h2&gt;まとめ&lt;/h2&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;とりあえず今回はここまでとしておきます。&lt;/div&gt;
&lt;div class="line"&gt;かなり復習感ありましたが,基本的な部分はなんとなくわかったと思います。&lt;/div&gt;
&lt;div class="line"&gt;やっぱりRailsにかなり近くて,Railsやってた人はここらへんはあまり深く読まなくても良い気がします.&lt;/div&gt;
&lt;div class="line"&gt;あと名前付けとかのルールとかは追々という感じで調べていきたいです.&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">zonuko</dc:creator><pubDate>Wed, 28 Dec 2016 21:50:00 +0900</pubDate><guid isPermaLink="false">tag:zonuko.github.io,2016-12-28:posts/2016/12/28/programming-phoenixmian-qiang-sono1/</guid><category>Elixir</category><category>Phoenix</category></item><item><title>ブログ書くことにした</title><link>https://zonuko.github.io/posts/2016/12/25/my-first-article/</link><description>&lt;p&gt;大した理由は無いけど色々あってブログを書くことにしました。&lt;/p&gt;
&lt;div class="section" id="id2"&gt;
&lt;h2&gt;動機&lt;/h2&gt;
&lt;p&gt;始めようと思った理由は以下のような感じです。&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;勉強だけは色々するけど、発表する場が社内でもない。（自分で作ればあるけど・・・）&lt;/li&gt;
&lt;li&gt;EvernoteとかOnenoteにまとめてたけど中々見づらくてあとで振り返りづらい。&lt;/li&gt;
&lt;li&gt;社外の人とも技術的な交流がする場が欲しい。&lt;/li&gt;
&lt;li&gt;技術的なアウトプットを目に見える形で出すことにメリットが有ると思ったから。&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="id3"&gt;
&lt;h2&gt;構成&lt;/h2&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;Pelicanと適当にテーマ使って作ってます。なので見た目はちょくちょく変わるかも。&lt;/div&gt;
&lt;div class="line"&gt;サーバー自体はGitHub Pages使ってます。&lt;/div&gt;
&lt;div class="line"&gt;Pelican選んだ理由は以下のような感じです。&lt;/div&gt;
&lt;/div&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Python好きだったから。&lt;/li&gt;
&lt;li&gt;流行ってるもの嫌いな天邪鬼だから。（流行ってるものが素晴らしかったり楽しいのは理解してるんですが・・・）&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="id4"&gt;
&lt;h2&gt;方向性&lt;/h2&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;基本的には技術的な内容にしていきたいですが、好きなゲームとか音楽とかアニメとかも話すかもしれないです。&lt;/div&gt;
&lt;div class="line"&gt;あと、数学も大学院終わって大分忘れてきているので、勉強したらその内容でも投稿しようかと。&lt;/div&gt;
&lt;div class="line"&gt;&lt;br /&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="pelican"&gt;
&lt;h2&gt;Pelicanについて&lt;/h2&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;ググればいくらでも出ると思いますが、PelicanはPython製の静的サイトジェネレーターです。&lt;/div&gt;
&lt;div class="line"&gt;（Rubyで言うJekyllとかに値するやつ）&lt;/div&gt;
&lt;div class="line"&gt;元々個人的に作った社内資料まとめとかにはSphinx使ってて、その流れって感じです。&lt;/div&gt;
&lt;div class="line"&gt;具体的なPelicanの設定うんぬんは気が向けばそのうち書きます。環境は以下の感じ。&lt;/div&gt;
&lt;/div&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;OS&lt;ul&gt;
&lt;li&gt;Windows10 64bit or Mac OS X El Capitan&lt;ul&gt;
&lt;li&gt;諸事情でSierraじゃないです。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Python3.5.2&lt;ul&gt;
&lt;li&gt;Pelican 3.6.3&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;エディタの類&lt;ul&gt;
&lt;li&gt;Visual Studio Code&lt;/li&gt;
&lt;li&gt;Vim&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="id5"&gt;
&lt;h2&gt;その他&lt;/h2&gt;
&lt;div class="line-block"&gt;
&lt;div class="line"&gt;Pelican良いと思いますが、ブログを書くという一点のみに着目すると車輪の再発明感も否めないです。&lt;/div&gt;
&lt;div class="line"&gt;多分好き勝手書いていくと思うので、何か間違ってるとかあればコメントしてもらうか、Twitterにリプなりくれれば多分反応します。&lt;/div&gt;
&lt;div class="line"&gt;うさぎの画像がたまに出てくるのは大久野島にたまに行くからです。うさぎ好きならおすすめします。一人なら泊る場所は島外にしよう！&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;PS. 何故か社内Redmineとかも丁寧語になってしまう現象が・・・&lt;/p&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">zonuko</dc:creator><pubDate>Sun, 25 Dec 2016 21:50:00 +0900</pubDate><guid isPermaLink="false">tag:zonuko.github.io,2016-12-25:posts/2016/12/25/my-first-article/</guid><category>misc</category></item></channel></rss>